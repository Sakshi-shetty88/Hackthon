{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saksh\\\\Downloads\\\\Saftey_Hub\\\\temp-frontend\\\\src\\\\pages\\\\SosModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst emergencyTypes = [{\n  label: \"Medical Emergency\",\n  color: \"bg-red-600\",\n  value: \"medical\"\n}, {\n  label: \"Fire\",\n  color: \"bg-orange-500\",\n  value: \"fire\"\n}, {\n  label: \"Crime/Violence\",\n  color: \"bg-red-800\",\n  value: \"crime\"\n}, {\n  label: \"Accident\",\n  color: \"bg-yellow-600\",\n  value: \"accident\"\n}, {\n  label: \"Other Emergency\",\n  color: \"bg-gray-600\",\n  value: \"other\"\n}];\nexport default function SosModal({\n  onClose,\n  onReported\n}) {\n  _s();\n  const [type, setType] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [location, setLocation] = useState(null);\n  const [locStatus, setLocStatus] = useState(\"\");\n  function handleGetLocation() {\n    setLocStatus(\"Fetching location...\");\n    if (!navigator.geolocation) {\n      setLocStatus(\"Geolocation not supported.\");\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(pos => {\n      setLocation({\n        lat: pos.coords.latitude,\n        lng: pos.coords.longitude\n      });\n      setLocStatus(\"Location fetched!\");\n    }, err => {\n      setLocStatus(\"Failed to fetch location.\");\n    });\n  }\n  function handleReport() {\n    if (!type) {\n      alert(\"Please select emergency type.\");\n      return;\n    }\n    const incident = {\n      type,\n      desc,\n      location,\n      time: new Date().toLocaleString()\n    };\n    onReported(incident);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl p-8 max-w-lg w-full shadow-2xl flex flex-col items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-black mb-3 text-center\",\n        children: \"Report Emergency\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6 text-center\",\n        children: \"Select the type of emergency\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: desc,\n        onChange: e => setDesc(e.target.value),\n        placeholder: \"Brief description (optional)\",\n        className: \"w-full rounded-lg border px-4 py-2 mb-5\",\n        rows: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-full gap-4 mb-4\",\n        children: emergencyTypes.map(et => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `w-full px-4 py-3 text-lg font-bold text-white rounded-lg focus:outline-none focus:ring-2 ${et.color} ${type === et.value ? \"ring-2 ring-offset-2 ring-black scale-105\" : \"\"} transition`,\n          onClick: () => setType(et.value),\n          children: et.label\n        }, et.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGetLocation,\n        className: \"mb-2 px-6 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition\",\n        children: location ? \"Location Added\" : \"Get Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), locStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-3\",\n        children: locStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex w-full gap-4 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReport,\n          className: \"flex-1 bg-black text-white rounded-lg px-6 py-3 font-semibold hover:bg-gray-800 transition\",\n          children: \"Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"flex-1 bg-gray-200 text-gray-700 rounded-lg px-6 py-3 font-semibold hover:bg-gray-300 transition\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(SosModal, \"Elo9GHLck3kuu01/03kiJi0U+zg=\");\n_c = SosModal;\nvar _c;\n$RefreshReg$(_c, \"SosModal\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","emergencyTypes","label","color","value","SosModal","onClose","onReported","_s","type","setType","desc","setDesc","location","setLocation","locStatus","setLocStatus","handleGetLocation","navigator","geolocation","getCurrentPosition","pos","lat","coords","latitude","lng","longitude","err","handleReport","alert","incident","time","Date","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","placeholder","rows","map","et","onClick","_c","$RefreshReg$"],"sources":["C:/Users/saksh/Downloads/Saftey_Hub/temp-frontend/src/pages/SosModal.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst emergencyTypes = [\r\n  { label: \"Medical Emergency\", color: \"bg-red-600\", value: \"medical\" },\r\n  { label: \"Fire\", color: \"bg-orange-500\", value: \"fire\" },\r\n  { label: \"Crime/Violence\", color: \"bg-red-800\", value: \"crime\" },\r\n  { label: \"Accident\", color: \"bg-yellow-600\", value: \"accident\" },\r\n  { label: \"Other Emergency\", color: \"bg-gray-600\", value: \"other\" },\r\n];\r\n\r\nexport default function SosModal({ onClose, onReported }) {\r\n  const [type, setType] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [location, setLocation] = useState(null);\r\n  const [locStatus, setLocStatus] = useState(\"\");\r\n\r\n  function handleGetLocation() {\r\n    setLocStatus(\"Fetching location...\");\r\n    if (!navigator.geolocation) {\r\n      setLocStatus(\"Geolocation not supported.\");\r\n      return;\r\n    }\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        setLocation({ lat: pos.coords.latitude, lng: pos.coords.longitude });\r\n        setLocStatus(\"Location fetched!\");\r\n      },\r\n      (err) => {\r\n        setLocStatus(\"Failed to fetch location.\");\r\n      }\r\n    );\r\n  }\r\n\r\n  function handleReport() {\r\n    if (!type) {\r\n      alert(\"Please select emergency type.\");\r\n      return;\r\n    }\r\n    const incident = {\r\n      type,\r\n      desc,\r\n      location,\r\n      time: new Date().toLocaleString(),\r\n    };\r\n    onReported(incident);\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-2xl p-8 max-w-lg w-full shadow-2xl flex flex-col items-center\">\r\n        <h2 className=\"text-3xl font-black mb-3 text-center\">Report Emergency</h2>\r\n        <p className=\"text-gray-600 mb-6 text-center\">Select the type of emergency</p>\r\n        <textarea\r\n          value={desc}\r\n          onChange={e => setDesc(e.target.value)}\r\n          placeholder=\"Brief description (optional)\"\r\n          className=\"w-full rounded-lg border px-4 py-2 mb-5\"\r\n          rows={2}\r\n        />\r\n\r\n        <div className=\"flex flex-col w-full gap-4 mb-4\">\r\n          {emergencyTypes.map((et) => (\r\n            <button\r\n              key={et.value}\r\n              className={`w-full px-4 py-3 text-lg font-bold text-white rounded-lg focus:outline-none focus:ring-2 ${\r\n                et.color\r\n              } ${type === et.value ? \"ring-2 ring-offset-2 ring-black scale-105\" : \"\"} transition`}\r\n              onClick={() => setType(et.value)}\r\n            >\r\n              {et.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <button\r\n          onClick={handleGetLocation}\r\n          className=\"mb-2 px-6 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition\"\r\n        >\r\n          {location ? \"Location Added\" : \"Get Location\"}\r\n        </button>\r\n        {locStatus && <p className=\"text-sm text-gray-600 mb-3\">{locStatus}</p>}\r\n\r\n        <div className=\"flex w-full gap-4 mt-4\">\r\n          <button\r\n            onClick={handleReport}\r\n            className=\"flex-1 bg-black text-white rounded-lg px-6 py-3 font-semibold hover:bg-gray-800 transition\"\r\n          >\r\n            Report\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"flex-1 bg-gray-200 text-gray-700 rounded-lg px-6 py-3 font-semibold hover:bg-gray-300 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}